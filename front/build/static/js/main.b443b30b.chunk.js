(window.webpackJsonpfront=window.webpackJsonpfront||[]).push([[8],{100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chainer=void 0;var r,a=(r=n(16))&&r.__esModule?r:{default:r};t.chainer=function e(t,n,r,o){return function(){if(!t.length)return r();var i=t[0].callbackAction,c=e(a.default.tail(t),n,r,o);i(n)(c)(o)}}},101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CombineStates=void 0;var r=n(50);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.CombineStates=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"states",{}),a(this,"reducers",{}),a(this,"combinedReducers",null),a(this,"setStates",function(e){e.forEach(function(e){n.reducers[e.name+"Reducer"]=e.reducer,n.states[e.name+"Reducer"]=e})}),this.setStates(t),this.combinedReducers=(0,r.combineReducers)(this.reducers)}},102:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.Middleware=void 0;var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"actionName",void 0),a(this,"actionKind",void 0),a(this,"store",{}),a(this,"callbackAction",{}),this.actionName=t,this.actionKind=n}var t,n,o;return t=e,(n=[{key:"callback",value:function(e){return this.callbackAction=e,this}}])&&r(t.prototype,n),o&&r(t,o),e}();t.Middleware=o},103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var r,a,o,i=(r=n(16))&&r.__esModule?r:{default:r},c=n(6);try{var s=n(38);s&&(a=s.connect)}catch(l){o=l}var u=function(e,t){return i.default.isString(e)||i.default.isObject(e)?t(e):e};t.connect=function(e,t){if(!a)throw o;var n=u(e,c.mapDynamicState),r=u(t,c.mapDynamicDispatch);return a(n,r)}},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){"use strict";n.r(t);var r=n(15),a=n(13),o=n(20),i=n(21),c=n(22),s=n(0),u=n.n(s),l=n(8),f=n.n(l),d=n(31),p=n(38),m=(n(93),n(46)),h=n(58),b=n.n(h),y=n(166),v=n(167),g=n(168),O=n(136),w=n(6),j=n(18),E=n(32),S=n(144),_=[{to:"/",label:"home"},{to:"/signup",label:"signup"},{to:"/login",label:"login"}],k=[{to:"/",label:"home"},{to:"/upload",label:"upload"},{to:function(){return"/gallery/"+j.a.getUser().slug},label:"my gallery"},{to:"/profile",label:"profile"},{label:"logout",onClick:j.a.logout,className:"color-red-darken-2"}],C=n(26),P=n(2),A=n(138);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var T=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).getProps=function(){var e=n.props,t=e.onClick,r=e.to,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach(function(t){Object(C.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Object(P.a)(e,["onClick","to"]));return"function"===typeof t&&(a.onClick=t),"function"===typeof r?a.to=r():r&&(a.to=r),a},n.getComponent=function(){return n.props.to?d.b:"div"},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.children,r=e.className,a=this.getComponent();return u.a.createElement(A.a,{onClick:t,className:"p-0"},u.a.createElement(a,Object.assign({},this.getProps(),{className:b()("color-black d-block h-100 w-100 nav-link",r)}),n))}}]),t}(u.a.Component),M=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={menu:null},n.getMenu=function(){var e=n.getDataLinks();return n.parseDataToMenu(e)},n.getDataLinks=function(){var e=[];return j.a.isLogged()?(j.a.isUser()&&(e=Object(E.a)(k)),e):e=Object(E.a)(_)},n.parseDataToMenu=function(e){var t=[];return e.forEach(function(e){t[t.length]=u.a.createElement(T,Object.assign({key:e.label,onClose:n.handleClose},e),e.label)}),t},n.handleClick=function(e){return n.setState({menu:e.currentTarget})},n.handleClose=function(){return n.setState({menu:null})},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.state.menu;return u.a.createElement("div",null,u.a.createElement("i",{className:"fa fa-bars fa-2x color-white pointer","aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:this.handleClick}),u.a.createElement(S.a,{id:"navbar-menu",keepMounted:!0,anchorEl:e,open:Boolean(e),onClose:this.handleClose,MenuListProps:{className:"bg-color-grey-lighten-1"}},this.getMenu()))}}]),t}(u.a.Component),R=(n(128),Object(w.mapDynamicState)("auth: user")),N=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props.user;return u.a.createElement(y.a,{position:"fixed",className:"navbar",id:"Navbar"},u.a.createElement(v.a,null,u.a.createElement(g.a,{container:!0,justify:"space-between",alignItems:"center"},u.a.createElement(g.a,{item:!0},u.a.createElement(O.a,{variant:"h6"},u.a.createElement(d.b,{className:"color-white",to:"/"},"D.Org gallery"))),u.a.createElement(g.a,{item:!0},j.a.isLogged()&&u.a.createElement(d.b,{to:"/upload"}),u.a.createElement(M,{user:e})))))}}]),t}(u.a.Component),U=Object(p.connect)(R)(N),x=n(16),I=n.n(x),L=n(36),G=n(45),F=Object(w.mapDynamicState)("auth: user"),W=Object(w.mapDynamicDispatch)("auth: setDeniedPage"),K=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={redirect:!1},n.setDeniedPageIfAccessDenied=function(){var e=n.props,t=e.setDeniedPage,r=e.role;j.a.hasRole(r)||(t({path:window.location.href,require:r}),n.setState({redirect:!0}))},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.setDeniedPageIfAccessDenied()}},{key:"componentDidUpdate",value:function(e){var t=this.props.user;I.a.isEqual(e.user,t)||this.setDeniedPageIfAccessDenied()}},{key:"render",value:function(){var e=this.state.redirect,t=this.props,n=t.role,r=Object(P.a)(t,["role"]);return j.a.hasRole(n)?u.a.createElement(L.Route,r):e&&u.a.createElement(L.Redirect,{to:"/login"})}}]),t}(u.a.Component),V=Object(L.withRouter)(Object(p.connect)(F,W)(K)),q=n(33),J=function(){return n.e(6).then(n.bind(null,469))},B=function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(13)]).then(n.bind(null,480))},z=function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(7)]).then(n.bind(null,479))},X=function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(5)]).then(n.bind(null,473))},$=function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(14)]).then(n.bind(null,477))},H=function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(12)]).then(n.bind(null,481))},Q=function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,475))},Y=function(){return n.e(9).then(n.bind(null,476))},Z=function(){return u.a.createElement(L.Switch,null,u.a.createElement(L.Route,{exact:!0,path:["/","/home"],component:Object(q.a)("home",J)}),u.a.createElement(V,{exact:!0,path:"/upload",role:G.a.user,component:Object(q.a)("upload",$)}),u.a.createElement(L.Route,{exact:!0,path:"/signup",component:Object(q.a)("signup",B)}),u.a.createElement(L.Route,{exact:!0,path:"/login",component:Object(q.a)("login",z)}),u.a.createElement(L.Route,{exact:!0,path:"/gallery/:user_slug/:page?",component:Object(q.a)("gallery",X)}),u.a.createElement(L.Route,{exact:!0,path:"/image/:id",component:Object(q.a)("show",H)}),u.a.createElement(L.Route,{exact:!0,path:"/profile",component:Object(q.a)("profile",Q)}),u.a.createElement(L.Route,{exact:!0,component:Object(q.a)("notFound",Y)}))},ee=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){j.a.login()}},{key:"render",value:function(){return u.a.createElement(p.Provider,{store:m.a},u.a.createElement(d.a,null,u.a.createElement(u.a.Fragment,null,u.a.createElement(U,null),u.a.createElement(Z,null))))}}]),t}(u.a.Component);f.a.render(u.a.createElement(ee,null),document.getElementById("root"))},18:function(e,t,n){"use strict";var r=n(15),a=n(56),o=n.n(a),i=n(57),c=n.n(i),s=n(6),u=n(46),l=n(45),f=Object(s.mapDynamicDispatch)("auth: setUser")(u.a.dispatch),d=function e(){Object(r.a)(this,e)};d.cookieName="cookieSession-Dorg-Gallery",d.secretKey="draconity.org gallery; secret key",d.getUser=function(){return Object(s.mapDynamicState)("auth: user")(u.a.getState()).user||{}},d.getUserRoles=function(e){return Array.isArray(e.roles)?e.roles.map(function(e){return e.value}):[]},d.isLogged=function(){return d.getUser().logged},d.isUser=function(){var e=d.getUser();return d.getUserRoles(e).includes(l.a.user)},d.hasRole=function(e){var t=d.getUser();return d.getUserRoles(t).includes(e)},d.encrypt=function(e){return o.a.AES.encrypt(JSON.stringify(e),d.secretKey)},d.decrypt=function(e){if(e){var t=o.a.AES.decrypt(e.toString(),d.secretKey);return JSON.parse(t.toString(o.a.enc.Utf8))}},d.addRolesValue=function(e){e.roles.forEach(function(e){e.value=l.a[e.name]})},d.signup=function(e){"object"===typeof e&&d.saveUser(e)},d.login=function(e){e||(e=d.decrypt(c.a.get(d.cookieName))),e&&d.saveUser(e)},d.logout=function(){c.a.remove(d.cookieName),f.setUser({})},d.saveUser=function(e){e.logged=!0,d.addRolesValue(e),f.setUser(e),d.setCookieSession(e)},d.setCookieSession=function(e){var t=d.encrypt(e);c.a.set(d.cookieName,t,{expires:1})},t.a=d},33:function(e,t,n){"use strict";var r=n(80),a=n.n(r),o=n(16),i=n.n(o),c=function(e){return function(t){return a()(t,e)}},s=n(0),u=n.n(s),l=n(2),f=n(26),d=n(15),p=n(13),m=n(20),h=n(21),b=n(22),y=n(6),v=n(168),g=n(169),O=n(136),w=(n(129),function(e){var t=e.name;return u.a.createElement(v.a,{container:!0,className:"Loading",justify:"center"},u.a.createElement(g.a,{classes:{bar:"bar"},className:"p-absolute top-0 page-loader w-100"}),u.a.createElement(O.a,{variant:"h4",className:"py-2 by-2 border-gradient color-blue"},u.a.createElement("span",{className:"color-white"},i.a.upperFirst(t)," page is loading...")))}),j=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={Component:null},n.cacheComponent=function(e){var t=n.props,r=t.name;(0,t.mergeCachedComponents)(Object(f.a)({},r,e))},n.setPreviousComponent=function(e){var t=n.props,r=(t.moduleProvider,t.name,Object(l.a)(t,["moduleProvider","name"]));u.a.createElement(e,r)},n.getComponent=function(){var e=n.props,t=e.name;return e.cachedComponents[t]},n.componentSetter=function(e){var t=Object.values(e)[0];n.cacheComponent(t),n.setPreviousComponent(t),n.setState({Component:t})},n.renderComponentLoaded=function(){var e=n.state.Component,t=n.props,r=(t.moduleProvider,t.name,Object(l.a)(t,["moduleProvider","name"]));return u.a.createElement(e,r)},n.renderComponentLoading=function(){var e=n.props.name;return u.a.createElement(w,{name:e})},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.Component,n=this.props.moduleProvider,r=this.getComponent();r?(this.setPreviousComponent(r),this.setState({Component:r})):setTimeout(function(){t||n().then(e.componentSetter)},2e3)}},{key:"render",value:function(){var e=this.state.Component;return u.a.createElement("div",null,e?this.renderComponentLoaded():this.renderComponentLoading())}}]),t}(u.a.PureComponent),E=Object(y.connect)("router: cachedComponents","router: mergeCachedComponents")(j),S=function(e,t){return function(n){return u.a.createElement(E,Object.assign({},n,{name:e,moduleProvider:t}))}};n.d(t,"b",function(){return c}),n.d(t,"a",function(){return S})},45:function(e,t,n){"use strict";t.a={user:"ROLE_USER"}},46:function(e,t,n){"use strict";var r=n(6),a=new r.DynamicState("gallery",{showOverlay:["text","draw"],images:[],filteredImages:[],filter:["*"],currentPage:1,maxPage:1,currentUser:"",requestReceived:!1,searchOptions:{search:"",haveOverlays:["*"],rating:["general","suggestive","nsfw"],sort:{criteria:"date",order:1}},currentImage:null,searchOptionsPanel:!1,loader:{loading:!1,error:!1,success:!1,empty:!1,emptyMessage:"There is no images"}});a.createActions({showOverlay:"set",images:"set",filteredImages:"set",filter:"set",currentPage:["set","inc","dec"],maxPage:"set",currentUser:"set",currentImage:"set",requestReceived:"set",searchOptions:["set","merge"],searchOptionsPanel:"set",loader:["set","merge"],__STATE__:"reset"});var o=a,i=new r.DynamicState("misc",{tags:[]});i.createActions({tags:"set"});var c=i,s=new r.DynamicState("auth",{user:{},deniedPage:{}});s.createActions({user:"set",deniedPage:"set"});var u=s,l=new r.DynamicState("uploader",{formView:"Uploader",imageData:{},canvasData:{color:"rgba(0,0,0,0.5)",eraseSize:10,fontSize:16,displayMainLayer:!0,displayInputs:!0,alpha:.5,lineWidth:3,contextAction:"draw",drawing:!1,context:null,hasTextCanvas:!0,hasDrawingCanvas:!0,draggingOut:!1,imageBounds:{},canvas:null,img:null},imagesToUpload:{},inputs:[],labels:[]});l.createActions({formView:"set",imageData:["set","merge"],canvasData:["set","merge"],imagesToUpload:"set",inputs:["set","filter","map"],labels:["set","filter","map"],__STATE__:"reset"});var f=l,d=new r.DynamicState("router",{cachedComponents:{}});d.createActions({cachedComponents:["set","merge"]});var p=d,m=new r.CombineStates([o,c,u,f,p]);t.a=Object(r.createStore)(m)},6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(94);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var a=n(96);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var o=n(97);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=n(98);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var c=n(101);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var s=n(102);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var u=n(103);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var l=new i.DynamicState("state",{test:"default value"});l.createActions({test:["set","reset"],__STATE__:"reset"}),l.createMiddlewares([new s.Middleware("test","set").callback(function(e){return function(e){return function(t){console.log("middleware"),e()}}})]);var f=new c.CombineStates([l]),d=(0,o.createStore)(f),p=(0,a.mapDynamicDispatch)("state: resetState resetTest setTest")(d.dispatch),m=function(){return(0,r.mapDynamicState)("state: test")(d.getState())};console.log(m()),p.setTest("new value"),console.log(m()),p.resetTest(),console.log(m())},71:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSpaces=void 0;t.removeSpaces=function(e){return e.map(function(e){return e.trim()}).filter(function(e){return e})}},84:function(e,t,n){e.exports=n(130)},93:function(e,t,n){},94:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapDynamicState=function(e){return function(t){if(!e)throw new Error("The props must be specified");var n,r={};if(a.default.isString(e))n=c;else{if(!a.default.isObject(e))throw new Error('The props must be either a string or an object. Got "'.concat(e,'"'));n=s}return n(e,t,r),r}};var r,a=(r=n(16))&&r.__esModule?r:{default:r},o=n(71);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=function(e,t,n){var r=(0,o.removeSpaces)(e.split(":"));if(r.length<2)throw new Error("The props aren't specified within a state");var a=i(r,2),c=a[0],s=a[1],u=(0,o.removeSpaces)(s.split(/\s/g)),l=c+"Reducer";u.forEach(function(e){return n[e]=t[l][e]})},s=function(e,t,n){a.default.forIn(e,function(e,r){var o=r+": ";if(Array.isArray(e))o+=e.join(" ");else{if(!a.default.isString(e))throw new Error('The props must be either an array or a string. Got "'.concat(e,'"'));o+=e}c(o,t,n)})}},96:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapDynamicDispatch=function e(t){return function(n){if(!t)throw new Error("The actions must be specified");var r,o={};if(a.default.isString(t))r=s;else{if(!a.default.isObject(t))throw new Error('The actions must be either a string or an object. Got "'.concat(t,'"'));r=u}return r(t,n,o,e.states),o}};var r,a=(r=n(16))&&r.__esModule?r:{default:r},o=n(71);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=/(push|pop|shift|unshift|concat|set|merge|filter|map|reduce|inc|dec)/,s=function(e,t,n,r){var s=(0,o.removeSpaces)(e.split(":"));if(s.length<2)throw new Error("The actions aren't specified within a state");var u=i(s,2),l=u[0],f=u[1],d=(0,o.removeSpaces)(f.split(/\s/g)),p=l+"Reducer";d.forEach(function(e){if(!r[p])throw new Error('The reducer "'.concat(l,"\" doesn't exists"));if("resetState"!==e){var o=i(e.replace(c,"$1_").split("_"),2),s=o[0],u=o[1];if(!u)throw new Error('The action must be prefixed by its kind. Got "'.concat(e,'"'));if(u=a.default.lowerFirst(u),!r[p].actions[u])throw new Error('The action "'.concat(u,'" doesn\'t exists on state "').concat(l,'"'));!function(e,t,n,r){var o=e[t.reducer].actions[t.propName];a.default.forIn(o,function(e,a){a===t.kind&&(r[t.name]=function(t){return e(t,n)})})}(r,{reducer:p,reducerName:l,name:e,kind:s,propName:u},t,n)}else n["reset"+a.default.upperFirst(l)+"State"]=function(){return r[p].actions.__STATE__.reset(null,t)}})},u=function(e,t,n,r){a.default.forIn(e,function(e,o){var i=o+": ";if(Array.isArray(e))i+=e.join(" ");else{if(!a.default.isString(e))throw new Error('The actions must be either an array or a string. Got "'.concat(e,'"'));i+=e}s(i,t,n,r)})}},97:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStore=void 0;var r,a=(r=n(16))&&r.__esModule?r:{default:r},o=n(50),i=n(6);function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.createStore=function(e,t){if(t&&!Array.isArray(t))throw new Error('Middlewares (if any) must be in an array. Got "'.concat(t,'"'));var n;i.mapDynamicDispatch.states=e.states;var r=[],s={};s.__REDUX_DEVTOOLS_EXTENSION__,n=t?o.compose.apply(void 0,[o.applyMiddleware.apply(void 0,c(t))].concat(r)):r[0];var u=(0,o.createStore)(e.combinedReducers,n);return a.default.forIn(e.states,function(e){e.store=u}),u}},98:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicState=void 0;var r,a=(r=n(16))&&r.__esModule?r:{default:r},o=n(99),i=n(100);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="__STATE__",l=function(){function e(t,n){var r=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"name",""),s(this,"initialState",{}),s(this,"actions",{}),s(this,"actionsOrigin",{}),s(this,"reducerConditions",[]),s(this,"reducer",function(){}),s(this,"resetType",""),s(this,"middlewares",{}),s(this,"store",{}),s(this,"dynamicReducer",function(e,t){if(t.type===r.resetType)return r.initialState;var n=a.default.cloneDeep(e);return r.reducerConditions.forEach(function(e){var a=e.type,o=e.prop;a===t.type&&r.dispatcher(n,t,o)}),n}),s(this,"dispatcher",function(e,t,n){switch(t.kind){case"set":e[n]=t.payload;break;case"push":case"pop":case"shift":case"unshift":o.Actions.array(e,t,n);break;case"concat":e[n]=o.Actions.arrayWithArray(e,t,n);break;case"filter":case"map":case"reduce":e[n]=o.Actions.arrayWithFunction(e,t,n);break;case"merge":e[n]=o.Actions.objectWithObject(e,t,n);break;case"inc":case"dec":e[n]=o.Actions.numberWithNumber(e,t,n);break;case"reset":e[n]=r.initialState[n]}}),s(this,"createAction",function(e){var t={};e.kinds.forEach(function(n){if(!a.default.isString(n))throw new Error('The kind of action must be a string. Got "'.concat(n,'"'));t[n]=r.actionCreator({name:e.name,kind:n,prop:e.prop})}),r.actions[e.name]=t}),s(this,"actionCreator",function(e){var t;t=e.name===u?r.name.toUpperCase()+"_STATE":a.default.snakeCase(e.name).toUpperCase();var n=e.kind.toUpperCase()+"_"+t,o=a.default.camelCase(n);return r.reducerConditions.push({type:n,prop:e.prop}),function(t,a){var c=r.middlewares[o],s={type:n,payload:t,kind:e.kind},u=function(){return a(s)};c?(0,i.chainer)(c,r.store,u,s)():u()}}),s(this,"addMiddleware",function(e){var t=a.default.camelCase(e.actionKind+"_"+e.actionName);r.middlewares[t]?r.middlewares[t].push(e):r.middlewares[t]=[e]}),!a.default.isString(t))throw new Error('The name must be a string. Got "'.concat(t,'"'));if(!a.default.isObject(n))throw new Error('The initial state must be an object. Got "'.concat(n,'"'));this.name=t,this.resetType="RESET_"+t.toUpperCase()+"_STATE",this.initialState=n,this.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1?arguments[1]:void 0;return r.dynamicReducer(e,t)}}var t,n,r;return t=e,(n=[{key:"createActions",value:function(e){var t=this;return this.actionsOrigin=e,a.default.forIn(e,function(e,n){var r=n===u,o=r?n:a.default.camelCase(n);if(!r&&!a.default.hasIn(t.initialState,o))throw new Error('"'.concat(o,'" doesn\'t exists in the state of "').concat(t.name,'"'));if(a.default.isString(e))e=[e];else if(!Array.isArray(e))throw new Error('The kind of action must be a string or an array. Got "'.concat(e,'"'));t.createAction({name:n,kinds:e,prop:o})}),this}},{key:"createMiddlewares",value:function(e){var t=this;e.forEach(function(e){var n=e.actionName,r=e.actionKind,o=t.actionsOrigin[n];if(!o)throw new Error('There is no action "'.concat(n,'"'));if(a.default.isString(o)&&(o=[o]),!o.includes(r))throw new Error('Action "'.concat(n,'" doesn\'t use the kind "').concat(r,'"'));t.addMiddleware(e)})}}])&&c(t.prototype,n),r&&c(t,r),e}();t.DynamicState=l},99:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Actions=void 0;var r,a=(r=n(16))&&r.__esModule?r:{default:r};function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(e,t,n){if(!e(t))throw new Error(n)},c=function(e,t){return function(n,r,a){i(e,n[a],"".concat(t," action used on a non-").concat(t,'. Type "').concat(r.type,'" property concerned "').concat(a,'"'))}},s=function(e,t){return function(n){i(e,n.payload,'Value passed to action "'.concat(n.type,'" must be ').concat(t,'. Got "').concat(n.payload,'"'))}},u=c(Array.isArray,"array"),l=c(a.default.isObject,"object"),f=c(Number.isFinite,"number"),d=s(Array.isArray,"an array"),p=s(a.default.isFunction,"a function"),m=s(a.default.isObject,"an object"),h=s(Number.isFinite,"a number"),b=function(e){return function(t,n){return function(r,a,o){return e&&e(r,a,o),t&&t(a),n(r,a,o)}}},y=b(u),v=function(e,t,n){return e[n][t.kind](t.payload)},g=b(l),O=b(f),w=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};t.Actions=w,o(w,"array",y(null,v)),o(w,"arrayWithArray",y(d,v)),o(w,"arrayWithFunction",y(p,v)),o(w,"objectWithObject",g(m,function(e,t,n){return e[n]=a.default.merge(e[n],t.payload)})),o(w,"numberWithNumber",O(h,function(e,t,n){switch(t.kind){case"inc":return e[n]+=t.payload;case"dec":return e[n]-=t.payload}}))}},[[84,11,15]]]);
//# sourceMappingURL=main.b443b30b.chunk.js.map